<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Paper Layout Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        canvas {
            image-rendering: pixelated;
            background-color: #f0f0f0;
            border: 2px solid #333;
            cursor: default;
        }
        canvas.draggable-hover {
            cursor: move;
        }
        .rect-item:hover {
            background-color: #f3f4f6;
        }
        .active-rect {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
    <header class="bg-slate-800 text-white p-4 shadow-md">
        <h1 class="text-xl font-bold">E-Paper Visual Layout Editor</h1>
    </header>

    <main class="flex-1 flex overflow-hidden">
        <!-- Left: Preview Area -->
        <div class="flex-1 p-8 flex flex-col items-center justify-center bg-gray-200 overflow-auto">
            <div class="relative">
                <canvas id="screenCanvas" width="416" height="240" class="shadow-lg"></canvas>
                <div id="canvasOverlay" class="absolute inset-0 pointer-events-none"></div>
            </div>
            <p class="mt-4 text-gray-600 text-sm">Screen Resolution: 416 x 240 (Scale: 1:1)</p>
            <p class="mt-2 text-blue-600 text-sm font-semibold">ğŸ’¡ æ‹–åŠ¨å›¾æ ‡å’Œæ–‡å­—æ¥è°ƒæ•´ä½ç½®ï¼ŒçŸ©å½¢æ¡†ä½ç½®åœ¨å³ä¾§å±æ€§é¢æ¿ä¸­è°ƒæ•´</p>
            <p class="mt-1 text-emerald-600 text-xs">âœ¨ ç‚¹å‡»å±æ€§é¢æ¿ä¸­çš„ âš“ å›¾æ ‡å¼€å¯å¯¹é½çº¿ï¼Œæ‹–åŠ¨å…¶å®ƒå…ƒç´ æ—¶ä¼šè‡ªåŠ¨å¸é™„å¯¹é½</p>
            
            <div class="mt-8 flex space-x-4">
                <button id="addRectBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow transition">Add Rectangle</button>
                <button id="exportJsonBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow transition">Export JSON</button>
                <button id="importJsonBtn" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded shadow transition">Import JSON</button>
            </div>
        </div>

        <!-- Right: Properties Panel -->
        <div class="w-96 bg-white border-l border-gray-300 flex flex-col shadow-xl">
            <div class="p-4 border-b border-gray-200 bg-gray-50">
                <h2 class="font-semibold text-gray-700">Properties</h2>
            </div>
            
            <div id="propertiesContent" class="flex-1 overflow-y-auto p-4 space-y-6">
                <p class="text-gray-500 italic">Select a rectangle to edit its properties</p>
            </div>

            <div class="p-4 border-t border-gray-200 bg-gray-50">
                <h2 class="font-semibold text-gray-700 mb-2">Rectangles List</h2>
                <div id="rectList" class="space-y-1 max-h-48 overflow-y-auto">
                    <!-- List items will be injected here -->
                </div>
            </div>
        </div>
    </main>

    <script src="editor.js"></script>
</body>
</html>
